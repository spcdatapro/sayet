<form class="form-horizontal" role="form" ng-submit="guardarMovimiento(bita)">
	<h4 class="text-center">Datos para movimiento/bitácora.</h4>
	<div class="form-group form-group-sm">
		<label for="inputTipoMovimiento" class="col-sm-2 control-label">Tipo:</label>
		<div class="col-sm-4">
			<select
				class="form-control"
				ng-model="bita.idplnmovimiento"
				id="inputTipoMovimiento"
				ng-options="item.id as item.descripcion for item in movimiento"
				ng-change="tipoMovimiento()"
				required
			></select>
		</div>
		<label for="inputMovOtros" class="col-sm-2 control-label">Otros:</label>
		<div class="col-sm-4">
			<input type="number" step="0.01" class="form-control" ng-model="bita.movotros" id="inputMovOtros">
		</div>
	</div>
	<div class="form-group form-group-sm">
		<label for="inputMovGasolina" class="col-sm-2 control-label">Gasolina:</label>
		<div class="col-sm-4">
			<input
				type="number"
				step="0.01"
				class="form-control"
				ng-model="bita.movgasolina"
				id="inputMovGasolina"
			>
		</div>
		<label for="inputMovDepvehiculo" class="col-sm-2 control-label">Depreciación Vehículo:</label>
		<div class="col-sm-4">
			<input
				type="number"
				step="0.01"
				class="form-control"
				ng-model="bita.movdepvehiculo"
				id="inputMovDepvehiculo"
			>
		</div>
	</div>
	<div class="form-group form-group-sm">
		<label for="inputMovFecha" class="col-sm-2 control-label">
			<span ng-show="vacas">Inicio</span>
			<span ng-show="!vacas">Fecha</span>
		</label>
		<div class="col-sm-4">
			<input
				type="date"
				class="form-control"
				ng-model="bita.fechatmp"
				id="inputMovFecha"
				required
			>
		</div>
		<label for="inputVacasFin" class="col-sm-2 control-label" ng-show="vacas">Fin:</label>
		<div class="col-sm-4" ng-show="vacas">
			<input
				type="date"
				class="form-control"
				ng-model="bita.fintmp"
				id="inputVacasFin"
				ng-required="vacas"
			>
		</div>
	</div>
	<div class="form-group form-group-sm" ng-show="vacas">
		<label for="inputVacasDias" class="col-sm-2 control-label">Total Días:</label>
		<div class="col-sm-4">
			<input
				type="number"
				step="0.01"
				class="form-control"
				ng-model="bita.movdias"
				id="inputVacasDias"
				ng-required="vacas"
			>
		</div>
	</div>
	<div class="form-group form-group-sm">
		<label for="inputMovObservaciones" class="col-sm-2 control-label">Observaciones:</label>
		<div class="col-sm-10">
			<textarea
				ng-model="bita.movobservaciones"
				class="form-control"
				id="inputMovObservaciones"
				rows="3"
			></textarea>
		</div>
	</div>
	<div class="form-group form-group-sm" ng-show="bita">
		<div class="col-sm-10 col-sm-offset-2 text-right" ng-show="movProcesando">
			<p><strong>Procesando...</strong></p>
		</div>
		<div class="col-sm-10 col-sm-offset-2 text-right" ng-show="!movProcesando">
			<button
				type="button"
				class="btn btn-default btn-sm"
				ng-show="movEditar"
				ng-click="nuevoMovimiento()"
			>
				<i class="glyphicon glyphicon-file"></i> Nuevo
			</button>
			<button
				type="button"
				class="btn btn-danger btn-sm"
				ng-show="movEditar"
				ng-click="anularMovimiento(bita)"
			>
				<i class="glyphicon glyphicon-trash"></i> Anular
			</button>
			<button type="submit" class="btn btn-primary btn-sm">
				<i class="glyphicon glyphicon-floppy-disk"></i> Guardar
			</button>
		</div>
	</div>
</form>
<table class="table table-condensed table-hover">
	<thead>
		<tr>
			<th>Registro</th>
			<th>Descripción</th>
			<th>Observaciones</th>
			<th>Movimiento</th>
			<th>Usuario</th>
			<th></th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="b in bitacora track by $index">
			<td>{{ b.fecha | date:'dd/MM/yyyy HH:mm:ss' }}</td>
			<td>{{ b.movdescripcion }}</td>
			<td>{{ b.movobservaciones }}</td>
			<td>{{ b.movfecha | date:'dd/MM/yyyy' }}</td>
			<td>{{ b.nombre }}</td>
			<td>
				<a href="pln/php/controllers/empleado.php/printbit/{{b.idplnempleado}}/{{ b.id }}" class="btn btn-default btn-sm" target="_blank">
					<i class="glyphicon glyphicon-print"></i>
				</a>
			</td>
			<td>
				<button class="btn btn-xs btn-primary" ng-click="editarMovimiento($index)">
					<i class="glyphicon glyphicon-edit"></i>
				</button>
			</td>
		</tr>
	</tbody>
</table>